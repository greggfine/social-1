(this["webpackJsonpfcc-mix-app"]=this["webpackJsonpfcc-mix-app"]||[]).push([[0],{187:function(e,t,a){},189:function(e,t,a){},206:function(e,t,a){e.exports=a(407)},211:function(e,t,a){},28:function(e,t){var a=function(e){return(e.getHours()+24)%12||12};function n(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}e.exports={descendingComparator:n,getComparator:function(e,t){return"desc"===e?function(e,a){return n(e,a,t)}:function(e,a){return-n(e,a,t)}},getTokenFromLocalStorage:function(){return JSON.parse(localStorage.getItem("okta-token-storage"))},formatDate:function(e){var t=new Date(e),n=t.toDateString().slice(0,10),r=a(t),c=t.getMinutes(),s=t.toLocaleTimeString().slice(-2);return[n,"".concat(r,":").concat(c," ").concat(s)]},hours12:a,stableSort:function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}}},377:function(e,t){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n,r,c,s,l,i,o,m,u=a(0),d=a.n(u),p=a(9),h=a.n(p),g=(a(211),a(4)),b=a.n(g),f=a(13),E=a(14),k=a(16),v=a(15),N=a(17),y=a(30),w=a(8),x=a(7),S=a(34),O=a.n(S),T=a(18),C=a.n(T),j=(a(58),a(380),a(38)),I=(a(381),(new Date).getFullYear()),D=function(){var e;return d.a.createElement("footer",{className:"page-footer indigo darken-1 footer-wrapper"},d.a.createElement("div",{className:"container "},d.a.createElement("div",{className:"row fcc-logo-social-icons-wrapper"},d.a.createElement("img",(e={className:" footer-logo",src:"/images/fcc_logo.jpg"},Object(j.a)(e,"src","/images/music-notes_logo.png"),Object(j.a)(e,"alt","freelance composers banner"),e)),d.a.createElement("ul",null,d.a.createElement("li",null,d.a.createElement("a",{className:"grey-text text-lighten-3",href:"https://www.youtube.com/channel/UCmOpHGj4JRWCdXhllVTZCVw?view_as=subscriber",target:"_blank",rel:"noopener noreferrer"},d.a.createElement("img",{className:"social-icon",src:"/images/youtube-icon.jpg",alt:"code creative youtube channel"})))))),d.a.createElement("div",{className:"footer-copyright"},d.a.createElement("div",{className:"container copyright-text"},d.a.createElement("sup",null,"\xa9")," ",I,", ",d.a.createElement("span",null,"GreggFineDev. All rights reserved."))))},M=Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:null,currentUserName:"",currentUserID:"",tracks:[]},a.checkAuthentication=function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(a.props.auth.isAuthenticated());case 2:(e=t.sent)!==a.state.authenticated&&a.setState({authenticated:e});case 4:case"end":return t.stop()}}))},a.getIdToken=function(){var e=JSON.parse(localStorage.getItem("okta-token-storage"));a.setState({currentUserName:e.idToken.claims.name,currentUserID:e.idToken.claims.sub})},a.login=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.login("/"));case 1:case"end":return e.stop()}}))},a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:C.a.AutoInit(),n=O()("https://salty-bayou-12671.herokuapp.com/"),function(){var t,a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(fetch("/api/tracks",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 2:return t=n.sent,n.next=5,b.a.awrap(t.json());case 5:return a=n.sent,n.next=8,b.a.awrap(e.setState({tracks:a.data}));case 8:case"end":return n.stop()}}))}(),this.checkAuthentication(),this.getIdToken(),n.on("updateCurrNumTracks",(function(){!function(){var t,a;b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(fetch("/api/tracks",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 2:return t=n.sent,n.next=5,b.a.awrap(t.json());case 5:return a=n.sent,n.next=8,b.a.awrap(e.setState({tracks:a.data}));case 8:case"end":return n.stop()}}))}()}));case 7:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.currentUserName,a=e.currentUserID,n=e.tracks,r=d.a.createElement("main",{className:"container Home"},d.a.createElement("h3",{className:"Home-heading"},"Welcome ",d.a.createElement("span",{className:"Home-heading-username"},t)),d.a.createElement("div",{className:"column Home-cards "},d.a.createElement("div",{className:"col s12 l6  Home-post-card musician-directory-card"},d.a.createElement("div",{className:"card z-depth-2  "},d.a.createElement("div",{className:"card-content "},d.a.createElement("div",{className:"Home-post-card-heading musician-directory-heading"},d.a.createElement("i",{className:"material-icons"},"account_circle"),d.a.createElement("span",{className:"card-title"},"Musician Directory")),d.a.createElement("div",{className:"card-action"},d.a.createElement(x.b,{to:"/members",className:"btn-small green"},"SEE ALL MEMBERS"))))),d.a.createElement("div",{className:" Home-post-card mix-feedback-card-wrapper"},d.a.createElement("div",{className:"card z-depth-2 mix-feedback-card"},d.a.createElement("div",{className:"card-content"},d.a.createElement("div",{className:"card-left row"},d.a.createElement("div",{className:"Home-post-card-heading"},d.a.createElement("i",{className:"material-icons"},"library_music"),d.a.createElement("span",{className:"card-title"},"Post Track")),d.a.createElement("p",{className:"Home-post-card-content"},"You have",d.a.createElement("span",{className:"badge white-text pink Home-post-card-badge"},n.filter((function(e){return e.userId===a})).length),"track/s posted"),d.a.createElement("div",{className:"card-action"},d.a.createElement(x.b,{to:"/tracks/new",className:"btn-small green"},"Post a track"))),d.a.createElement("div",{className:"card-right"},d.a.createElement("div",{className:"Home-post-card-heading"},d.a.createElement("i",{className:"material-icons"},"comment"),d.a.createElement("span",{className:"card-title"},"Comment")),d.a.createElement("p",{className:"Home-post-card-content Home-post-card-content-right"},"There are",d.a.createElement("span",{className:"badge white-text pink Home-post-card-badge",id:"current-num-of-tracks"},n.length),"tracks to comment on"),d.a.createElement("div",{className:"card-action"},d.a.createElement(x.b,{to:"/tracks",className:"btn-small green see-all-tracks-btn see-all-tracks-btn-Home"},"See all tracks"))))))),d.a.createElement("img",{src:"images/audio-e-guitars-guitars-music-6966.jpg",alt:"musical instruments",className:"responsive-img container Home-banner"}));return d.a.createElement("div",{className:"body-wrapper"},r,d.a.createElement(D,null))}}]),t}(u.Component)),A=a(23),U=a(64),F=a(28),_=(a(382),a(383),function(e){var t=e.track;return d.a.createElement("div",{className:"section "},d.a.createElement(x.b,{to:"/track/".concat(t.userId),className:"grey-text text-darken-1 tooltipped","data-position":"top","data-tooltip":"Comment"},d.a.createElement("i",{className:"material-icons grey-text text-darken-1"},"comment"),"..."))}),L=(a(384),function(e){var t=e.track;return d.a.createElement("audio",{src:"/audio/".concat(t.fileName),controls:!0,controlsList:"nodownload",className:"track-list-audio-player"})}),P=Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={tracks:[],currentUserId:""},a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a.sortTracks=function(e){var t=a.state.currentUserId,n=e.find((function(e){return e.userId===t})),r=e.filter((function(e){return e.userId!==t}));return n?[n].concat(Object(U.a)(r)):Object(U.a)(r)},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return C.a.AutoInit(),O()("https://salty-bayou-12671.herokuapp.com/"),n.next=4,b.a.awrap(fetch("/api/tracks",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 4:return e=n.sent,n.next=7,b.a.awrap(e.json());case 7:return t=n.sent,n.next=10,b.a.awrap(this.setState({currentUserId:Object(F.getTokenFromLocalStorage)().idToken.claims.sub}));case 10:return n.next=12,b.a.awrap(this.sortTracks(t.data));case 12:return a=n.sent,n.next=15,b.a.awrap(this.setState({tracks:a}));case 15:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.tracks,a=e.currentUserId,n=t.map((function(e,t){var n=Object(F.formatDate)(e.createdAt),r=Object(A.a)(n,2),c=r[0],s=r[1];return d.a.createElement("li",{key:e._id,className:"collection-item col s12 tracklist-item"},0===t&&e.userId===a&&d.a.createElement("i",{className:"material-icons grey-text text-lighten-5 light-green accent-4 tracklist-item-mood-icon"},"mood"),d.a.createElement("blockquote",{className:"blockquote"},e.notes),d.a.createElement("p",{className:"tracklist-item-upload-date"},d.a.createElement("strong",null,"Posted:"),d.a.createElement("span",null," ".concat(c,",  ").concat(s))),d.a.createElement("div",{className:"tracklist-item-audio-and-links"},d.a.createElement(L,{track:e}),d.a.createElement("div",{className:"tracklist-item-links"},a===e.userId?d.a.createElement(x.b,{to:"/tracks/".concat(e._id,"/edit")},d.a.createElement("i",{className:"material-icons grey-text text-darken-1"},"build")):null,d.a.createElement(_,{track:e}))))}));return d.a.createElement("div",{className:"body-wrapper"},d.a.createElement("main",{className:"container tracklist"},d.a.createElement("div",{className:"page-heading container"},d.a.createElement("i",{className:"material-icons large tracks-upload-icon"},"music_video"),d.a.createElement("h2",{className:"tracklist-heading-text"},"Tracks")),d.a.createElement("ul",{className:"collection container"},n)))}}]),t}(u.Component)),R=a(60),z=a(47),H=(a(187),a(385),function(e){var t=e.currUserSettingsFieldKey,a=e.currUserSettingsFieldValue,n=e.disabled,r=e.handleChange;return d.a.createElement("div",{className:"".concat(t," Account-Item")},d.a.createElement("label",{className:"current-user-account-field",htmlFor:t},t),d.a.createElement("input",{id:{currUserSettingsFieldKey:t},type:"email"===t?"email":"website"===t||"socialMedia1"===t||"socialMedia2"===t||"socialMedia3"===t?"url":"text",value:a,onChange:r,name:t,required:"memberName"===t,className:"account-settings-input",tabIndex:-1,disabled:n,maxLength:49}))}),B=Object(w.withAuth)((c=r=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={settingsFields:{email:"",genre1:"",fileName:"",genre2:"",genre3:"",instrument1:"",instrument2:"",instrument3:"",memberName:"",location:"",phone:"",socialMedia1:"",socialMedia2:"",socialMedia3:"",website:""},btnIsDisabled:!1,currUserID:"",currUserSettings:[],currentUserInput:"",displayErrMsg:!1,displayFileTooLargeMsg:!1,displayDuplicateMemberNameMsg:!1,inputFieldisDisabled:!1,isUploading:!1,redirectToMembers:!1,allMembers:[]},a.authorization="Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken,a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a.getIdToken=function(){var e=Object(F.getTokenFromLocalStorage)().idToken.claims;a.setState({currUserID:e.sub})},a.handleChange=function(e){a.setState({settingsFields:Object(z.a)({},a.state.settingsFields,Object(j.a)({},e.target.name,e.target.value))})},a.handleSelect=function(e){a.setState({settingsFields:Object(z.a)({},a.state.settingsFields,{location:e.target.value})})},a.handleImageUpload=function(e){e.target.files[0]?e.target.files[0].size<15e3?a.setState({btnIsDisabled:!1,displayFileTooLargeMsg:!1,settingsFields:Object(z.a)({},a.state.settingsFields,{fileName:e.target.files[0]})}):a.setState({displayFileTooLargeMsg:!0,btnIsDisabled:!0}):console.log("The file size is too large. Please upload a smaller file.")},a.handleCloseErrMsg=function(){a.setState({displayDuplicateMemberNameMsg:!1,inputFieldisDisabled:!1})},a.handleSubmit=function(e){var t;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t=Object(R.a)({},a.state.settingsFields),!a.state.allMembers.some((function(e){return e.memberName.toLowerCase().replace(/\s/g,"")===t.memberName.toLowerCase().replace(/\s/g,"")&&e.userID!==a.state.currUserID}))){n.next=7;break}a.setState({displayDuplicateMemberNameMsg:!0,inputFieldisDisabled:!0}),n.next=16;break;case 7:return n.prev=7,n.next=10,b.a.awrap(a.addMemberAccount(t));case 10:a.state.displayErrMsg||(a.setState({isUploading:!0}),setTimeout((function(){return a.setState({redirectToMembers:!0})}),2e3)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(7),console.error(n.t0);case 16:case"end":return n.stop()}}),null,null,[[7,13]])},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"addMemberAccount",value:function(e){var t=this,a=new FormData,n=Object(z.a)({},e,{userID:this.state.currUserID}),r=Object(R.a)({},n);for(var c in r)a.append(c,r[c]);fetch("/api/members",{method:"POST",headers:{authorization:this.authorization},body:a}).then((function(e){403===e.status&&t.setState({displayErrMsg:!0,isUploading:!1,redirectToMembers:!1})}))}},{key:"componentDidMount",value:function(){var e,t,a,n,r,c=this;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return C.a.AutoInit(),s.prev=1,s.next=4,b.a.awrap(fetch("/api/members",{method:"GET",headers:{"Content-Type":"application/json",authorization:this.authorization}}));case 4:return e=s.sent,s.next=7,b.a.awrap(this.getIdToken());case 7:return s.next=9,b.a.awrap(e.json());case 9:return t=s.sent,this.setState({allMembers:t.data}),s.next=13,b.a.awrap(t.data.find((function(e){return e.userID===c.state.currUserID})));case 13:return a=s.sent,s.next=16,b.a.awrap(a);case 16:n=s.sent,r=Object(R.a)({},n),a&&this.setState({settingsFields:Object(z.a)({},r)}),s.next=25;break;case 21:s.prev=21,s.t0=s.catch(1),this.setState({redirect:!0}),console.log(s.t0);case 25:case"end":return s.stop()}}),null,this,[[1,21]])}},{key:"render",value:function(){var e=this;if(this.state.redirectToMembers)return d.a.createElement(y.Redirect,{to:"/members"});var t=this.state,a=t.btnIsDisabled,n=t.inputFieldisDisabled,r=t.displayDuplicateMemberNameMsg,c=t.settingsFields,s=t.displayFileTooLargeMsg,l=t.currUserSettings,i=t.isUploading;return d.a.createElement("main",{className:"container Settings"},d.a.createElement("div",{className:"Settings-heading"},d.a.createElement("i",{className:"material-icons medium Settings-gear-icon"},"settings"),d.a.createElement("h2",{className:"Settings-heading-text"},"Settings")),d.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},d.a.createElement("div",{className:"Settings-user-image"},d.a.createElement("p",{className:"image-guide"},d.a.createElement("em",null,"(Images should be: 50 x 50 pixels)")),s?d.a.createElement("p",{className:"Settings-image-upload-err-msg"},this.props.fileTooLargeMsg):"",d.a.createElement("label",{className:"Settings-user-image-text",htmlFor:"file-name"},"User Image"),d.a.createElement("div",{className:"btn Settings-user-image-upload-btn"},d.a.createElement("input",{type:"file",id:"file-name",name:"fileName",accept:"image/*",onChange:this.handleImageUpload}))),r&&d.a.createElement("p",{className:"Settings-duplicate-member-name-err-msg",onClick:this.handleCloseErrMsg},d.a.createElement("i",{className:"material-icons prefix",style:{border:"0px solid red"}},"cancel"),this.props.duplicateMemberNameMsg),d.a.createElement("div",{className:"Settings-fields"},l?Object.entries(c).map((function(t){if("file"!==t[0]&&"_id"!==t[0]&&"__v"!==t[0]&&"fileName"!==t[0]&&"userID"!==t[0])return d.a.createElement(H,{disabled:n,currUserSettingsFieldKey:t[0],currUserSettingsFieldValue:t[1],handleChange:e.handleChange,handleSelect:e.handleSelect,key:t[0]})})):d.a.createElement("h1",null,"loading...")),d.a.createElement("div",{className:"Settings-submit-btn"},d.a.createElement("button",{id:"submit-btn",className:"btn green waves-effect waves-light",type:"submit",name:"action",disabled:a},"Submit",d.a.createElement("i",{className:"material-icons right"},"send")))),i&&d.a.createElement("div",{className:"progress"},d.a.createElement("div",{className:"indeterminate"})))}}]),t}(u.Component),r.defaultProps={fileTooLargeMsg:"The file size is too large. Please upload a smaller file.",duplicateMemberNameMsg:"Sorry, this user name is not available."},c)),V=(a(386),Object(w.withAuth)((l=s=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={file:[],notes:"",currentUserId:"",redirectToTracks:!1,isUploading:!1,displayErrMsg:!1,displayFileTooLargeMsg:!1,btnIsDisabled:!1},a.getIdToken=function(){a.setState({currentUserId:Object(F.getTokenFromLocalStorage)().idToken.claims.sub})},a.handleFileChange=function(e){e.target.files[0]?e.target.files[0].size<8e6?a.setState({btnIsDisabled:!1,displayFileTooLargeMsg:!1,file:e.target.files[0]}):a.setState({displayFileTooLargeMsg:!0,btnIsDisabled:!0}):console.log("The file size is too large. Please upload a smaller file.")},a.handleNotesChange=function(e){a.setState({notes:e.target.value})},a.handleSubmit=function(e){var t,n,r,c;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t=a.state,n=t.file,r=t.notes,c=t.displayErrMsg,s.prev=2,s.next=5,b.a.awrap(a.addTrack(n,r));case 5:c||(a.setState({isUploading:!0}),setTimeout((function(){return a.setState({redirectToTracks:!0},(function(){i.emit("updateTrackCount")}))}),2e3)),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(2),console.error(s.t0);case 11:case"end":return s.stop()}}),null,null,[[2,8]])},a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"addTrack",value:function(e,t){var a=this,n=new FormData;n.append("userId",this.state.currentUserId),n.append("notes",t),n.append("fileName",e),fetch("/api/tracks",{method:"POST",headers:{authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken},body:n}).then((function(e){403===e.status&&a.setState({displayErrMsg:!0,isUploading:!1,redirectToTracks:!1})}))}},{key:"componentDidMount",value:function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.AutoInit(),i=O()("https://salty-bayou-12671.herokuapp.com/"),this.getIdToken();case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(!0===this.state.redirectToTracks)return d.a.createElement(y.Redirect,{to:"/tracks"});var e=this.state,t=e.notes,a=e.isUploading,n=e.displayErrMsg,r=e.btnIsDisabled,c=e.displayFileTooLargeMsg,s=this.props,l=s.errMsg,i=s.fileTooLargeMsg;return d.a.createElement("div",{className:"body-wrapper"},d.a.createElement("main",{className:"container track-upload"},d.a.createElement("div",{className:"page-heading container"},d.a.createElement("i",{className:"material-icons large cloud-upload-icon"},"cloud_upload"),d.a.createElement("h2",{className:"track-upload-heading-text"},"Post a track")),d.a.createElement("form",{onSubmit:this.handleSubmit,className:"container post-track-form",encType:"multipart/form-data"},d.a.createElement("p",{className:"image-guide"},d.a.createElement("em",null,"(Files should be: mp3/max-size: 8MB)")),d.a.createElement("div",{className:"file-field-wrapper"},d.a.createElement("div",{className:"file-field input-field"},d.a.createElement("div",{className:"btn file-btn"},d.a.createElement("span",{className:"file-span"},"File"),d.a.createElement("input",{type:"file",id:"file-name",name:"fileName",accept:".mp3",required:!0,onChange:this.handleFileChange})),d.a.createElement("div",{className:"file-path-wrapper"},d.a.createElement("input",{className:"file-path validate",type:"text"})),d.a.createElement("p",{id:"file-too-large-message"}))),d.a.createElement("div",{className:"input-field col s12 track-notes"},d.a.createElement("textarea",{name:"notes",id:"notes",className:"materialize-textarea track-upload-notes-area",required:!0,autoFocus:!0,maxLength:"500","data-length":"120",value:t,spellCheck:"false",onChange:this.handleNotesChange}),d.a.createElement("label",{htmlFor:"notes"},d.a.createElement("i",{className:"material-icons track-notes-pencil-icon"},"create"),d.a.createElement("span",{className:"add-notes-text"}," Add Your Notes..."))),d.a.createElement("div",{className:"track-upload-submit-btn-wrapper"},d.a.createElement("div",{className:"input-field"},d.a.createElement("button",{id:"submit-btn",className:"btn green waves-effect waves-light comment-submit-btn",type:"submit",name:"action",disabled:r},"Submit",d.a.createElement("i",{className:"material-icons right"},"send"))))),n?d.a.createElement("p",{className:"track-upload-err-msg"},l):"",c?d.a.createElement("p",{className:"track-upload-err-msg"},i):"",a&&d.a.createElement("div",{className:"progress"},d.a.createElement("div",{className:"indeterminate "}))))}}]),t}(u.Component),s.defaultProps={errMsg:"Sorry, you can only post one track per 24 hours.",fileTooLargeMsg:"The file size is too large. Please upload a smaller file."},l))),J=(a(387),a(388),function(e){var t=e.notes,a=e.handleNotesChange;return d.a.createElement("div",{className:"input-field col s12 track-notes"},d.a.createElement("textarea",{name:"notes",id:"notes",className:"materialize-textarea edit-notes-area",required:!0,autoFocus:!0,maxLength:"500",value:t,spellCheck:"false",onChange:a}),d.a.createElement("label",{htmlFor:"notes"},d.a.createElement("i",{className:"material-icons pencil-icon"},"create"),d.a.createElement("span",{className:"add-notes-text"}," Edit your track's notes...")))}),G=(a(389),function(e){var t=e.handleSubmit;return d.a.createElement("div",{className:"input-field"},d.a.createElement("button",{id:"submit-btn",className:"btn green waves-effect waves-light comment-submit-btn",type:"submit",name:"action",onClick:t},"Submit",d.a.createElement("i",{className:"material-icons right"},"send")))}),q=Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={currentTrack:"",editedNotes:"",currentTrackID:null,redirectToTracks:!1,notes:""},a.getTrackID=function(){var e=a.props.location.pathname;return e.slice(8,e.lastIndexOf("/"))},a.handleDelete=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({redirectToTracks:!0},(function(){o.emit("updateTrackCount")})),e.next=3,b.a.awrap(fetch("/api/tracks/".concat(a.state.currentTrackID),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken},body:JSON.stringify({fileName:a.state.currentTrack.fileName})},(function(){o.emit("updateTrackCount")})));case 3:case"end":return e.stop()}}))},a.handleNotesChange=function(e){a.setState({notes:e.target.value})},a.handleSubmit=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=4;break}return t.next=3,b.a.awrap(fetch("/api/tracks/".concat(a.state.currentTrackID,"/edit"),{method:"PUT",headers:new Headers({"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}),body:JSON.stringify({notes:e})}));case 3:a.setState({redirectToTracks:!0});case 4:case"end":return t.stop()}}))},a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r=this;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return C.a.AutoInit(),o=O()("https://salty-bayou-12671.herokuapp.com/"),e=this.props.match.params.id,c.next=5,b.a.awrap(fetch("/api/tracks",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 5:return t=c.sent,c.next=8,b.a.awrap(t.json());case 8:return a=c.sent,c.next=11,b.a.awrap(a.data.find((function(e){return e._id===r.getTrackID()})));case 11:n=c.sent,this.setState({currentTrack:n,currentTrackID:e,notes:n.notes});case 13:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.notes;return!0===this.state.redirectToTracks?d.a.createElement(y.Redirect,{to:"/tracks"}):d.a.createElement("div",{className:"body-wrapper edit-delete container"},d.a.createElement("main",{className:"container"},d.a.createElement("div",{className:"edit-track-notes"},d.a.createElement(J,{notes:t,handleNotesChange:this.handleNotesChange}),d.a.createElement("div",{className:"edit-submit-btn-wrapper"},d.a.createElement(G,{handleSubmit:function(){return e.handleSubmit(t)}}))),d.a.createElement("div",{className:"edit-btns-wrapper delete-track-wrapper"},d.a.createElement("h4",{className:"edit-list-heading"},"Delete your track and associated comments"),d.a.createElement("i",null,d.a.createElement("a",{className:"material-icons red-text text-darken-1 modal-trigger delete-track-icon",href:"#modal1"},"delete"),d.a.createElement("div",{id:"modal1",className:"modal",dismissible:"true"},d.a.createElement("div",{className:"modal-content delete-modal"},d.a.createElement("h4",null,"Delete"),d.a.createElement("hr",null),d.a.createElement("p",{className:"delete-track-message"},"Are you sure you want to ",d.a.createElement("span",null,"delete this track?")),d.a.createElement("hr",null)),d.a.createElement("div",{className:"modal-footer escape-or-delete-wrapper"},d.a.createElement("span",{className:"escape-message"},"(Press ESC to cancel)"),d.a.createElement("i",{href:"#!",className:"modal-close waves-effect waves-green btn-flat",onClick:this.handleDelete},d.a.createElement("button",{className:"btn btn-small red"},"Delete"))))))))}}]),t}(u.Component)),K=(a(390),a(391),function(e){var t=e.comments,a=e.currentUserID,n=e.currentTrack,r=e.textAreaVisible,c=e.textAreaVisibleCommentID,s=e.editedCommentInput,l=e.handleDeleteComment,i=e.handleEditedCommentInput,o=e.handleSubmitEditedComment,m=e.handleDisplayTextArea;return Object(u.useEffect)((function(){C.a.AutoInit()})),t.map((function(e){return d.a.createElement("i",{className:"comment-list-items ",key:e.id},e.commentCreatorID===a?d.a.createElement("i",{className:"edit-delete-icons"},d.a.createElement("i",{className:"material-icons grey-text text-darken-1",onClick:function(){return m(e.id,e.comment)}},"create"),d.a.createElement("i",null,d.a.createElement("a",{className:"material-icons grey-text text-darken-1 modal-trigger",href:"#modal1"},"delete"),d.a.createElement("div",{id:"modal1",className:"modal",dismissible:"true"},d.a.createElement("div",{className:"modal-content delete-modal"},d.a.createElement("h4",null,"Delete"),d.a.createElement("hr",null),d.a.createElement("p",{className:"modal-delete-message"},"Are you sure you want to ",d.a.createElement("span",null,"delete this comment?")),d.a.createElement("hr",null)),d.a.createElement("div",{className:"modal-footer modal-content"},d.a.createElement("span",{className:"modal-escape-message"},"(Press ESC to cancel)"),d.a.createElement("i",{href:"#!",className:"modal-close waves-effect waves-green btn-flat",onClick:function(){return l(n,e.id)}},d.a.createElement("button",{className:"btn btn-small red"},"Delete")))))):null,d.a.createElement("li",{className:"collection-item comment-list-item grey lighten-3",key:e.id},r&&e.id===c?d.a.createElement("div",{className:"input-field col s12"},d.a.createElement("textarea",{name:"editComment",id:"edit-comment",cols:"30",rows:"10",value:s,onChange:i,className:"materialize-textarea text-area-visible",maxLength:"500",spellCheck:"false"}),d.a.createElement("div",{className:"cancel-submit-btns"},d.a.createElement("button",{className:"btn-small cancel-comment-btn grey-text text-darken-4",onClick:function(){return m()}},"Cancel"),d.a.createElement("button",{className:"btn-small green waves-effect waves-light",onClick:function(){return o(e.id,n)}},"Submit",d.a.createElement("i",{className:"material-icons right"},"send")))):d.a.createElement("p",{className:"comment-list-item-comment"},e.comment)))}))}),W=(a(392),function(e){var t=e.currentComment,a=e.handleCommentInput;return d.a.createElement("div",{className:"input-field col s12 comment-field"},d.a.createElement("textarea",{name:"comment",cols:"200",rows:"5",id:"textarea1",className:"materialize-textarea",required:!0,autoFocus:!0,minLength:"1",maxLength:"500",value:t,onChange:a}),d.a.createElement("label",{htmlFor:"textarea1",className:"comment-field-text"},d.a.createElement("i",{className:"material-icons pencil-icon"},"create"),"Write a comment..."))}),Y=Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={tracks:[],currentComment:"",comments:[],currentUserID:"",editedCommentInput:"",textAreaVisible:!1,textAreaVisibleCommentID:"",redirect:!1,displayDeletedMssg:!1},a.logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a.getIdToken=function(){var e=Object(F.getTokenFromLocalStorage)().idToken.claims;a.setState({currentUserID:e.sub})},a.getTrackID=function(){var e=a.props.location.pathname;return e.slice(e.lastIndexOf("/")+1)},a.getTracks=function(){var e,t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.awrap(fetch("/api/tracks",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 3:return e=r.sent,r.next=6,b.a.awrap(e.json());case 6:return t=r.sent,r.next=9,b.a.awrap(t.data.find((function(e){return e.userId===a.getTrackID()})));case 9:return n=r.sent,r.abrupt("return",[t.data,n.comments]);case 13:r.prev=13,r.t0=r.catch(0),a.setState({redirect:!0}),console.log(r.t0);case 17:case"end":return r.stop()}}),null,null,[[0,13]])},a.handleDeleteComment=function(e,t){m.emit("deleteComment",e,t)},a.handleDisplayTextArea=function(e,t){a.setState({textAreaVisible:!a.state.textAreaVisible,textAreaVisibleCommentID:e,editedCommentInput:t})},a.handleCommentInput=function(e){a.setState({currentComment:e.target.value})},a.handleSubmitComment=function(e){var t=a.state,n=t.currentComment,r=t.currentUserID;n.length>0?(m.emit("postComment",n,e,r),a.setState({currentComment:""})):a.setState({redirect:!0})},a.handleSubmitEditedComment=function(e,t){var n=a.state,r=n.editedCommentInput,c=n.textAreaVisible;r.length>=1&&m.emit("editComment",e,r,t),a.setState({editedCommentInput:"",textAreaVisible:!c})},a.handleEditedCommentInput=function(e){a.setState({editedCommentInput:e.target.value})},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r=this;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:C.a.AutoInit(),(m=O()("https://salty-bayou-12671.herokuapp.com/")).on("trackDeletedRedirect",(function(){r.setState({displayDeletedMssg:!0}),window.setTimeout((function(){r.setState({redirect:!0})}),3e3)}));try{m.on("updateDOM",(function(){var e,t,a,n;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,b.a.awrap(r.getTracks());case 2:return e=c.sent,t=Object(A.a)(e,2),a=t[0],n=t[1],c.next=8,b.a.awrap(r.setState((function(){return{tracks:a,comments:n.reverse()}})));case 8:case"end":return c.stop()}}))}))}catch(s){this.setState({redirect:!0}),console.log(s)}return c.prev=4,c.next=7,b.a.awrap(this.getTracks());case 7:return e=c.sent,t=Object(A.a)(e,2),a=t[0],n=t[1],this.getIdToken(),c.next=14,b.a.awrap(this.setState((function(e){return{tracks:a,comments:[].concat(Object(U.a)(e.comments),Object(U.a)(n.reverse()))}})));case 14:c.next=20;break;case 16:c.prev=16,c.t0=c.catch(4),this.setState({redirect:!0}),console.log(c.t0);case 20:case"end":return c.stop()}}),null,this,[[4,16]])}},{key:"render",value:function(){var e=this,t=this.state,a=t.tracks,n=t.currentComment,r=t.comments,c=t.editedCommentInput,s=t.textAreaVisible,l=t.textAreaVisibleCommentID,i=t.currentUserID,o=t.redirect,m=t.displayDeletedMssg;if(o)return d.a.createElement(y.Redirect,{to:"/tracks"});if(m)return d.a.createElement("h2",{className:"container track-deleted-mssg"},"Sorry, that track was deleted by its creator. :-(");var u=a.find((function(t){return t.userId===e.getTrackID()}));return u?d.a.createElement("div",{className:"body-wrapper show-wrapper"},d.a.createElement("main",{className:"container"},d.a.createElement("div",{className:"page-heading"},d.a.createElement("i",{className:"material-icons large comment-icon"},"comment"),d.a.createElement("h2",{className:"comment-list-heading"},"Comments")),d.a.createElement("div",{className:"row  show-list-wrapper"},d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"audio-blockquote-wrapper"},d.a.createElement("audio",{className:"audio-player",src:"/audio/".concat(u.fileName),controls:!0,controlsList:"nodownload"}),d.a.createElement("blockquote",null,'"',u.notes,'"')),d.a.createElement(W,{currentComment:n,handleCommentInput:this.handleCommentInput}),d.a.createElement("div",{className:"show-btns-wrapper"},d.a.createElement("button",{className:"btn green waves-effect waves-light comment-submit-btn",type:"submit",name:"action",onClick:function(t){return e.handleSubmitComment(u)}},"Submit",d.a.createElement("i",{className:"material-icons right"},"send"))),d.a.createElement("ul",{id:"comment-list",className:"comment-list"},d.a.createElement(K,{comments:r,currentUserID:i,currentTrack:u,textAreaVisible:s,textAreaVisibleCommentID:l,editedCommentInput:c,handleDeleteComment:this.handleDeleteComment,handleEditedCommentInput:this.handleEditedCommentInput,handleSubmitEditedComment:this.handleSubmitEditedComment,handleDisplayTextArea:this.handleDisplayTextArea})))))):d.a.createElement("div",null)}}]),t}(u.Component)),X=a(191),Z=a.n(X),$=(a(399),a(400),function(e){function t(){return Object(f.a)(this,t),Object(k.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=h.a.findDOMNode(this);this.widget=new Z.a({baseUrl:this.props.baseUrl,authParams:{pkce:!0}}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnmount",value:function(){this.widget.remove()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("img",{src:"images/audio-e-guitars-guitars-music-6966 copy.jpg",alt:"musical instruments banner",className:"responsive-img fcc-banner"}))}}]),t}(u.Component)),Q=Object(w.withAuth)(function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(k.a)(this,Object(v.a)(t).call(this,e))).onSuccess=function(e){if("SUCCESS"===e.status)return a.props.auth.redirect({sessionToken:e.session.token})},a.onError=function(e){console.log("error logging in",e)},a.state={authenticated:null},a.checkAuthentication(),a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"checkAuthentication",value:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(this.props.auth.isAuthenticated());case 2:(e=t.sent)!==this.state.authenticated&&this.setState({authenticated:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){this.checkAuthentication()}},{key:"render",value:function(){return null===this.state.authenticated?null:this.state.authenticated?d.a.createElement(y.Redirect,{to:{pathname:"/home"}}):d.a.createElement($,{baseUrl:this.props.baseUrl,onSuccess:this.onSuccess,onError:this.onError})}}]),t}(u.Component)),ee=(a(401),Object(y.withRouter)((function(e){var t=e.logout;return d.a.createElement("div",{className:"nav-wrapper"},d.a.createElement("nav",null,d.a.createElement("div",{className:"nav-wrapper indigo darken-1 z-depth-2"},d.a.createElement("div",{className:"container"},d.a.createElement(x.c,{to:"/",className:"brand-logo"},d.a.createElement("img",{className:"nav-brand-logo",src:"/images/music-notes_logo.png",alt:"logo"})),d.a.createElement(x.c,{to:"#","data-target":"mobile-demo",className:"sidenav-trigger"},d.a.createElement("i",{className:"material-icons"},"menu")),d.a.createElement("ul",{className:"right hide-on-med-and-down"},d.a.createElement("li",null,d.a.createElement(x.c,{to:"/home",exact:!0,activeClassName:"active-link"},"Home")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/members",exact:!0,activeClassName:"active-link"},"Members")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/tracks",exact:!0,activeClassName:"active-link"},"Tracks")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/tracks/new",exact:!0,activeClassName:"active-link"},"Post")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/account",exact:!0,activeClassName:"active-link"},"Settings")),d.a.createElement("li",{className:"logout-link"},d.a.createElement(x.c,{to:"/logout",exact:!0,activeClassName:"active-link",onClick:t},"Logout")))))),d.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},d.a.createElement("li",null,d.a.createElement(x.c,{to:"/home"},"Home")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/members"},"Members")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/tracks"},"Tracks")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/tracks/new"},"Post")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/account"},"Settings")),d.a.createElement("li",null,d.a.createElement(x.c,{to:"/logout",onClick:t},"Logout"))))}))),te=a(450),ae=a(448),ne=a(449),re=a(444),ce=a(447),se=a(451),le=a(443),ie=a(3),oe=a(436),me=a(21),ue=a(439),de=a(441),pe=function(e){var t=Object(oe.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(me.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}))(),a=e.numSelected;return d.a.createElement(ue.a,{className:Object(ie.a)(t.root,Object(j.a)({},t.highlight,a>0))},a>0?d.a.createElement(de.a,{className:t.title,color:"inherit",variant:"subtitle1"},a," selected"):d.a.createElement(de.a,{className:t.title,variant:"h4",id:"tableTitle",style:{fontWeight:"900"}},"Member Directory"))},he=a(442),ge=a(456),be=(a(402),[{id:"memberName",numeric:!1,disablePadding:!1,label:"Name"},{id:"instrument1",numeric:!1,disablePadding:!1,label:"Main Instrument"},{id:"instrument2",numeric:!1,disablePadding:!1,label:"Secondary Instrument"},{id:"location",numeric:!1,disablePadding:!1,label:"Location"}]);var fe=function(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return d.a.createElement(he.a,null,d.a.createElement(le.a,null,d.a.createElement(re.a,{padding:"checkbox"}),be.map((function(e){return d.a.createElement(re.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a,className:"table-head-cell"},d.a.createElement(ge.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(c=e.id,function(e){r(e,c)})},e.label,n===e.id?d.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var c}))))},Ee=a(453),ke=a(445),ve=a(454),Ne=a(446),ye=a(195),we=a.n(ye),xe=a(103),Se=a.n(xe),Oe=a(102),Te=a.n(Oe),Ce=a(193),je=a.n(Ce),Ie=a(194),De=a.n(Ie),Me=a(192),Ae=a.n(Me),Ue=a(101),Fe=a.n(Ue),_e=(a(403),"#3949AB");function Le(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),borderRadius:"7px",outline:"none",padding:"10px"}}var Pe=Object(oe.a)((function(e){return{paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Re(e){var t=e.open,a=(e.setOpen,e.handleClose),n=e.currMember,r=Pe(),c=d.a.useState(Le),s=Object(A.a)(c,1)[0];return d.a.createElement("div",null,d.a.createElement(Ee.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:t,onClose:a},d.a.createElement(ke.a,{style:s,className:"".concat(r.paper," modal-card")},d.a.createElement(ve.a,{id:"simple-modal-title"},d.a.createElement("h2",null,n.memberName)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Ae.a,{style:{color:_e}}),d.a.createElement("span",null,n.location)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"}," ",d.a.createElement(je.a,{style:{color:_e}}),d.a.createElement("span",null,n.phone)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(De.a,{style:{color:_e}}),d.a.createElement("span",null,n.email)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Fe.a,{style:{color:_e}}),d.a.createElement("span",null,n.instrument1)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Fe.a,{style:{color:_e}}),d.a.createElement("span",null,n.instrument2)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Fe.a,{style:{color:_e}}),d.a.createElement("span",null,n.instrument3)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Te.a,{style:{color:_e}}),d.a.createElement("span",null,n.genre1)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Te.a,{style:{color:_e}}),d.a.createElement("span",null,n.genre2)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Te.a,{style:{color:_e}}),d.a.createElement("span",null,n.genre3)),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Se.a,{style:{color:_e}}),d.a.createElement("a",{href:n.socialMedia1,target:"_blank"},d.a.createElement("span",null,n.socialMedia1))),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Se.a,{style:{color:_e}}),d.a.createElement("a",{href:n.socialMedia2,target:"_blank"},d.a.createElement("span",null,n.socialMedia2))),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(Se.a,{style:{color:_e}}),d.a.createElement("a",{href:n.socialMedia3,target:"_blank"},d.a.createElement("span",null,n.socialMedia3))),d.a.createElement(Ne.a,null),d.a.createElement(ve.a,{id:"simple-modal-description"},d.a.createElement(we.a,{color:"action",style:{color:_e}}),d.a.createElement("a",{href:n.website,target:"_blank"},d.a.createElement("span",null,n.website))),d.a.createElement(Ne.a,null))))}var ze=a(455);a(405);function He(e){var t=e.fileName;return d.a.createElement("td",null,d.a.createElement(ze.a,{alt:"Gregg Fine",src:"/imgs/".concat(t),className:"avatar"}))}var Be=Object(oe.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));a(189);function Ve(e){var t=e.members,a=Object(u.useState)(!1),n=Object(A.a)(a,2),r=n[0],c=n[1],s=Object(u.useState)({}),l=Object(A.a)(s,2),i=l[0],o=l[1],m=Be(),p=Object(u.useState)("asc"),h=Object(A.a)(p,2),g=h[0],b=h[1],f=Object(u.useState)("calories"),E=Object(A.a)(f,2),k=E[0],v=E[1],N=Object(u.useState)([]),y=Object(A.a)(N,2),w=y[0],x=(y[1],Object(u.useState)(0)),S=Object(A.a)(x,2),O=S[0],T=S[1],C=Object(u.useState)(5),j=Object(A.a)(C,2),I=j[0],D=j[1],M=I-Math.min(I,t.length-O*I);return d.a.createElement(d.a.Fragment,null,d.a.createElement(pe,{numSelected:w.length}),d.a.createElement(ce.a,null,d.a.createElement(ae.a,{className:m.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table"},d.a.createElement(fe,{classes:m,numSelected:w.length,order:g,orderBy:k,onRequestSort:function(e,t){b(k===t&&"asc"===g?"desc":"asc"),v(t)},rowCount:t.length}),d.a.createElement(ne.a,null,Object(F.stableSort)(t,Object(F.getComparator)(g,k)).slice(O*I,O*I+I).map((function(e,t){var a,n=(a=e.name,-1!==w.indexOf(a)),r="enhanced-table-checkbox-".concat(t),s=Object(R.a)({},e);return d.a.createElement(le.a,{hover:!0,onClick:function(e){return function(e){c(!0),o(Object(z.a)({},e))}(s)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e._id,selected:n},d.a.createElement(He,{fileName:e.fileName}),d.a.createElement(re.a,{component:"th",id:r,scope:"member",className:"table-cell"},e.memberName),d.a.createElement(re.a,{align:"left",className:"table-cell"},e.instrument1),d.a.createElement(re.a,{align:"left",className:"table-cell"},e.instrument2),d.a.createElement(re.a,{align:"left",className:"table-cell"},e.location))})),M>0&&d.a.createElement(le.a,null,d.a.createElement(re.a,{colSpan:6}))))),d.a.createElement(se.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:I,page:O,onChangePage:function(e,t){T(t)},onChangeRowsPerPage:function(e){D(parseInt(e.target.value,10)),T(0)}}),d.a.createElement(Re,{open:r,setOpen:c,handleClose:function(){c(!1)},currMember:i}))}var Je=Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={members:[]},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return C.a.AutoInit(),a.next=3,b.a.awrap(fetch("/api/members",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer "+JSON.parse(localStorage.getItem("okta-token-storage")).accessToken.accessToken}}));case 3:return e=a.sent,a.next=6,b.a.awrap(e.json());case 6:return t=a.sent,a.next=9,b.a.awrap(this.setState({members:t.data}));case 9:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return d.a.createElement("div",{className:"Members container"},d.a.createElement(te.a,null,d.a.createElement(Ve,{members:this.state.members})))}}]),t}(u.Component)),Ge=(a(406),Object(w.withAuth)(function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.props.auth.logout("/"));case 1:case"end":return e.stop()}}))},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){C.a.AutoInit()}},{key:"render",value:function(){var e=this;return d.a.createElement(y.Route,{render:function(t){var a=t.location;return d.a.createElement("div",null,d.a.createElement(y.Switch,{location:a},d.a.createElement(y.Route,{path:"/",exact:!0,render:function(){return d.a.createElement(Q,{baseUrl:"https://dev-885516.okta.com"})}}),d.a.createElement(y.Route,{exact:!0,path:"/implicit/callback",component:w.ImplicitCallback})),"/"!==a.pathname&&d.a.createElement(ee,{logout:e.logout}),d.a.createElement(y.Switch,null,d.a.createElement(w.SecureRoute,{path:"/account",exact:!0,component:B}),d.a.createElement(w.SecureRoute,{path:"/home",exact:!0,component:M}),d.a.createElement(w.SecureRoute,{path:"/members",exact:!0,component:Je}),d.a.createElement(w.SecureRoute,{path:"/tracks",exact:!0,component:P}),d.a.createElement(w.SecureRoute,{path:"/tracks/new",exact:!0,component:V}),d.a.createElement(w.SecureRoute,{path:"/tracks/:id/edit",exact:!0,component:q}),d.a.createElement(w.SecureRoute,{path:"/track/:id",exact:!0,component:Y})))}})}}]),t}(u.Component))),qe={url:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_OKTA_ORG_URL,issuer:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_OKTA_ORG_URL,"/oauth2/default"),redirect_uri:window.location.origin+"/implicit/callback",client_id:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_OKTA_CLIENT_ID};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke="".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_OKTA_ORG_URL,"/oauth2/default!");h.a.render(d.a.createElement(x.a,null,d.a.createElement(w.Security,{issuer:Ke,clientId:qe.client_id,redirectUri:qe.redirect_uri,onAuthRequired:function(e){e.history.push("/")},pkce:!0},d.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.606ea3d5.chunk.js.map